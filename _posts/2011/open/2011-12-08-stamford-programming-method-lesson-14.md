---
layout: post
title: 斯坦福《编程方法》第十四课
category: open
---
##内存

存放不同变量的内存区块，内存分配机制，对指针的看法，指针趣味小视频。

说到存储，首先要知道的是RAM内存，全程是随机存取存储器（random access memory）。

计算机里最简单的存储单位叫做比特，而比特（bit）其实是二进制数字（binary digit）的缩写。比特只包含0或者1这种单一的二进制数字。

计算机存储是从十六进制出发的，尽管能换算成十进制数值，但是我们还是用十六进制表示。之所以这么做，是因为我们想要区分表示存储位置的数和存储的实际内容。

凡是使用new的就是动态变量，当调用new的时候，动态变量就存储在叫做堆（heap）里面。堆中的变量不再使用时，计算机把这部分内存收回，这叫做垃圾回收（garbage collection）。

局部变量存放在一个叫栈（stack）的地方，跟堆区分开来。栈和堆的区别就在于，对栈来说，当函数中有局部变量或者参数时，在栈这个地方会自动为变量分配一些内存。当局部变量不在作用域范围内时，像是函数结束或者是运行的程序退出，导致变量不在存在，不在作用域范围内，栈会自动回收内存（java是这样的，c和c++不会自动回收）。

每个对象都有地址，计算机内部实际上是通过对象的地址来找到它们的。

栈上创建了一些存储空间，称之为栈帧（stack frame）。它在栈上记录调用函数，产生帧信息。

在对某个对象调用函数时，首先存在栈上的是对象的指针（pointer），它就是叫做this的指针。

函数运行结束，就意味执行函数时，所分配的所有内存，被计算机自动取消分配，称之为出栈（off stack）。
